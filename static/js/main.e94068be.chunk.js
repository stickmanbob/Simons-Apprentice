(this["webpackJsonpsimons-apprentice"]=this["webpackJsonpsimons-apprentice"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/pentagram.ae5d5114.png"},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/fizzle.8c4e8a93.gif"},function(e,t,a){e.exports=a.p+"static/media/redSprite.829b5c15.gif"},function(e,t,a){e.exports=a.p+"static/media/yellowSprite.49a3dbf3.gif"},function(e,t,a){e.exports=a.p+"static/media/greenSprite.ea067f66.gif"},function(e,t,a){e.exports=a.p+"static/media/blueSprite.b6c13a15.gif"},function(e,t,a){e.exports=a.p+"static/media/greenOrb.0ecc18da.png"},function(e,t,a){e.exports=a.p+"static/media/blueOrb.fd1f041c.png"},function(e,t,a){e.exports=a.p+"static/media/redOrb.50e75402.png"},function(e,t,a){e.exports=a.p+"static/media/yellowOrb.ea689330.png"},,,,function(e,t,a){e.exports=a(48)},,,,,function(e,t,a){e.exports=a.p+"static/media/background-desktop.400823fb.jpg"},function(e,t,a){e.exports=a.p+"static/media/circle.b9ff05f9.jpg"},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),c=a.n(s),l=(a(22),a(20));function i(e,t){var a=0,n=e.length;e.forEach((function(e){var r=new Image;r.src=e,r.onload=function(){++a===n&&t()}}))}var u=a(6),o=a(1),m=["red","blue","yellow","green"],h=[a(40)],p=[a(23),a(24),a(25),a(26),a(27),a(41),a(17),a(28),a(29),a(30),a(31)],d=a(9),g=a.n(d),f=a(15),b=a(11),S=a(12),E=a(7),v=a(14),k=a(13),y=function(e){Object(v.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={showHSInput:!1,name:"Apprentice",highScore:!1},n.updateHighScores=n.updateHighScores.bind(Object(E.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(E.a)(n)),n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.rank;this.highScoreList=JSON.parse(localStorage.data).scores,console.log(this.highScoreList);var t=this.highScoreList[this.highScoreList.length-1]||{rank:0};(this.highScoreList.length<15&&e>0||e>t.rank)&&this.setState({showHSInput:!0,highScore:!0})}},{key:"handleNameChange",value:function(e){e.preventDefault(),this.setState({name:e.target.value})}},{key:"navButtons",value:function(){return this.state.showHSInput?r.a.createElement("form",null,r.a.createElement("h3",null,"Enter your name, Apprentice"),r.a.createElement("input",{className:"no-text-outline",onChange:this.handleNameChange,value:this.state.name,type:"text"}),r.a.createElement("input",{className:"button",type:"submit",onClick:this.updateHighScores})):r.a.createElement("nav",null,r.a.createElement("div",{onClick:this.props.reset,className:"button"},"Try Again"),r.a.createElement(u.b,{to:"/high-scores"},"Honor Scroll"))}},{key:"updateHighScores",value:function(e){if(e.preventDefault(),0!==this.state.name.length){var t=this.state.name,a=this.props.rank;this.highScoreList.length>=15&&this.highScoreList.pop(),this.highScoreList.push({name:t,rank:a}),this.highScoreList.sort((function(e,t){return t.rank-e.rank})),localStorage.data=JSON.stringify({scores:this.highScoreList}),this.setState({showHSInput:!1})}}},{key:"render",value:function(){var e,t=this.props.rank;return e=this.state.highScore?r.a.createElement("h3",null,"...but you made the Honor Scroll for reaching Rank ",t,"!"):r.a.createElement("h3",null,"...but you reached Apprentice Rank ",t,"!"),r.a.createElement("section",{id:"game-over"},r.a.createElement("h1",null,"You Fizzled the Spell!"),e,this.navButtons())}}]),a}(r.a.Component);function x(e){var t=e.contents;return r.a.createElement("div",{className:"summoning-circle"},t)}var O=function(e){Object(v.a)(n,e);var t=Object(k.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).state={currentSprite:null,loaded:!0,sequence:["red"],currentGuess:0,gameState:"start",score:0,disableInputs:!0},s.sprites={red:r.a.createElement("img",{src:a(24),alt:"red"}),yellow:r.a.createElement("img",{src:a(25),alt:"yellow"}),green:r.a.createElement("img",{src:a(26),alt:"green"}),blue:r.a.createElement("img",{src:a(27),alt:"blue"}),fizzle:r.a.createElement("img",{className:"fizzle",src:a(23),alt:"fizzle!"})},s.handleInput=s.handleInput.bind(Object(E.a)(s)),s.playSequence=s.playSequence.bind(Object(E.a)(s)),s.resetGame=s.resetGame.bind(Object(E.a)(s)),s.nextRound=s.nextRound.bind(Object(E.a)(s)),s}return Object(S.a)(n,[{key:"updateSequence",value:function(){var e=Array.from(this.state.sequence),t=m[Math.floor(4*Math.random())];e.push(t),this.setState({sequence:e})}},{key:"playSequence",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("simon-turn"===this.state.gameState){e.next=3;break}return e.next=3,this.setState({gameState:"simon-turn"});case 3:t=0;case 4:if(!(t<this.state.sequence.length)){e.next=14;break}return this.setState({currentSprite:this.sprites[this.state.sequence[t]]}),e.next=8,this.sleep(1300);case 8:return t===this.state.sequence.length-1?this.setState({currentSprite:null,disableInputs:!1,gameState:"player-turn"}):this.setState({currentSprite:null}),e.next=11,this.sleep(400);case 11:t++,e.next=4;break;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"nextGuess",value:function(){this.setState({currentSprite:null,currentGuess:this.state.currentGuess+1,disableInputs:!1})}},{key:"nextRound",value:function(){this.updateSequence(),this.setState({currentSprite:null,gameState:"",currentGuess:0,disableInputs:!0}),this.playSequence()}},{key:"resetGame",value:function(){this.setState({currentSprite:null,sequence:["red"],currentGuess:0,gameState:"start",score:0})}},{key:"gameOver",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({currentSprite:this.sprites.fizzle,disableInputs:!0}),e.next=3,this.sleep(1600);case 3:this.setState({gameState:"gameOver"});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInput",value:function(e){var t=this;return this.state.disableInputs?function(e){return e.preventDefault()}:function(){var a=Object(f.a)(g.a.mark((function a(n){var r,s,c,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r=t.state,s=r.sequence,c=r.currentGuess,e!==s[c]){a.next=10;break}return l=t.sprites[e]||null,t.setState({currentSprite:l,disableInputs:!0}),a.next=7,t.sleep(1300);case 7:c===s.length-1?t.setState({gameState:"interRound",currentSprite:null,score:t.state.score+1,disableInputs:!0}):t.nextGuess(),a.next=11;break;case 10:t.gameOver();case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},{key:"selectMessage",value:function(){switch(this.state.gameState){case"simon-turn":return r.a.createElement("h1",null,"Watch closely...");case"player-turn":return r.a.createElement("h1",null,"Use the Orbs to Summon the Elementals in the Correct Order");case"start":return r.a.createElement("div",null,r.a.createElement("h1",null,"We will begin when you are ready"),r.a.createElement("h3",null,"Touch the red pentagram to begin"));case"interRound":return r.a.createElement("div",null,r.a.createElement("h1",null,"Good Job, Apprentice!"),r.a.createElement("h2",null,"You have reached Rank ",this.state.score),r.a.createElement("h3",null,"Touch the red pentagram to continue"));default:return null}}},{key:"selectMainWindow",value:function(){switch(this.state.gameState){case"start":var e=r.a.createElement("img",{className:"start-button",src:a(17),onClick:this.playSequence,alt:"start"});return r.a.createElement(x,{contents:e});case"interRound":var t=r.a.createElement("img",{className:"start-button",src:a(17),onClick:this.nextRound,alt:"next round"});return r.a.createElement(x,{contents:t});default:return r.a.createElement(x,{contents:this.state.currentSprite})}}},{key:"render",value:function(){var e=this.state.score;if(!this.props.loaded)return r.a.createElement("section",null,r.a.createElement("h1",null,"Loading..."));if("gameOver"===this.state.gameState)return r.a.createElement(y,{rank:this.state.score,reset:this.resetGame});var t=this.selectMainWindow(),n=this.state.disableInputs?"":"enable",s=this.selectMessage();return r.a.createElement("section",{id:"game"},r.a.createElement("div",{className:"message-box"},s),r.a.createElement("div",{className:"main-window"},t),r.a.createElement("div",{className:"game-buttons"},r.a.createElement("img",{className:"orb red ".concat(n),draggable:"false",src:a(30),onClick:this.handleInput("red"),alt:"red"}),r.a.createElement("img",{className:"orb green ".concat(n),draggable:"false",src:a(28),onClick:this.handleInput("green"),alt:"green"}),r.a.createElement("img",{className:"orb yellow ".concat(n),draggable:"false",src:a(31),onClick:this.handleInput("yellow"),alt:"blue"}),r.a.createElement("img",{className:"orb blue ".concat(n),draggable:"false",src:a(29),onClick:this.handleInput("blue"),alt:"yellow"})),r.a.createElement("div",null,r.a.createElement("span",{className:"rank-counter"},"Apprentice Rank: ",e)))}}]),n}(r.a.Component);function w(){var e=JSON.parse(localStorage.data).scores;return console.log(e),r.a.createElement("section",{id:"high-scores"},r.a.createElement("h1",null,"Honored Apprentices"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#")," ",r.a.createElement("th",null,"Name")," ",r.a.createElement("th",null,"Rank")),e.map((function(e,t){return r.a.createElement("tr",{className:"score",key:t},r.a.createElement("td",null,t)," ",r.a.createElement("td",null,e.name)," ",r.a.createElement("td",null,e.rank))}))),r.a.createElement(u.b,{to:"/game",className:"no-text-outline"},"Play Again!"),r.a.createElement(u.b,{to:"/",className:"no-text-outline"},"Main Menu"))}function N(){return r.a.createElement("section",{id:"main-menu"},r.a.createElement("h1",null,"Welcome, Apprentice"),r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/game"},"Play"),r.a.createElement(u.b,{to:"/instructions"},"Instructions"),r.a.createElement(u.b,{to:"/high-scores"},"High Scores")))}function j(){return r.a.createElement("header",{id:"header"},r.a.createElement("h1",null,"Simon's Apprentice"))}var I=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),m=Object(l.a)(c,2),d=m[0],g=m[1];if(Object(n.useEffect)((function(){a||i(h,(function(){return s(!0)})),d||i(p,(function(){return g(!0)}))})),!a)return r.a.createElement("div",null,"Loading...");var f=r.a.createElement(j,null);return console.log(window.innerHeight),window.innerHeight<600&&(f=null),r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/game"},f),r.a.createElement(o.a,{path:"/"},r.a.createElement(j,null))),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/game"},r.a.createElement(O,{loaded:d})),r.a.createElement(o.a,{path:"/high-scores"},r.a.createElement(w,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(N,null)))))};JSON.parse(localStorage.data)||(localStorage.data=JSON.stringify({scores:[{name:"Harry Dresden",rank:30}]})),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.e94068be.chunk.js.map