(this["webpackJsonpsimons-apprentice"]=this["webpackJsonpsimons-apprentice"]||[]).push([[0],{20:function(e,t,a){},24:function(e,t,a){e.exports=a(43)},35:function(e,t,a){e.exports=a.p+"static/media/redSprite.829b5c15.gif"},36:function(e,t,a){e.exports=a.p+"static/media/yellowSprite.49a3dbf3.gif"},37:function(e,t,a){e.exports=a.p+"static/media/greenSprite.ea067f66.gif"},38:function(e,t,a){e.exports=a.p+"static/media/blueSprite.b6c13a15.gif"},39:function(e,t,a){e.exports=a.p+"static/media/redOrb.50e75402.png"},40:function(e,t,a){e.exports=a.p+"static/media/greenOrb.0ecc18da.png"},41:function(e,t,a){e.exports=a.p+"static/media/yellowOrb.ea689330.png"},42:function(e,t,a){e.exports=a.p+"static/media/blueOrb.fd1f041c.png"},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),c=a.n(s),i=(a(20),a(7)),l=a(1),u=a(10),o=a.n(u),h=a(16),p=a(11),m=a(12),d=a(6),g=a(14),S=a(13),f=function(e){Object(g.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={showHSInput:!1,name:"Apprentice",highScore:!0},n.updateHighScores=n.updateHighScores.bind(Object(d.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.rank;this.highScoreList=JSON.parse(localStorage.data).scores,(e>this.highScoreList[this.highScoreList.length-1].rank||this.highScoreList.length<15&&e>0)&&this.setState({showHSInput:!0,highScoreRank:!0})}},{key:"handleNameChange",value:function(e){e.preventDefault(),this.setState({name:e.target.value})}},{key:"navButtons",value:function(){return this.state.showHSInput?r.a.createElement("form",null,r.a.createElement("input",{placeholder:"Enter your name, Apprentice",onChange:this.handleNameChange,value:this.state.name,type:"text"}),r.a.createElement("button",{type:"submit",onClick:this.updateHighScores},"Accept")):r.a.createElement("nav",null,r.a.createElement("button",{onClick:this.props.reset},"Try Again"),r.a.createElement(i.b,{to:"/high-scores"},"Honor Scroll"))}},{key:"updateHighScores",value:function(e){e.preventDefault();var t=this.state.name,a=this.props.rank;this.highScoreList.length>=15&&this.highScoreList.pop(),this.highScoreList.push({name:t,rank:a}),this.highScoreList.sort((function(e,t){return t.rank-e.rank})),localStorage.data=JSON.stringify({scores:this.highScoreList}),this.setState({showHSInput:!1})}},{key:"render",value:function(){var e,t=this.props.rank;return e=this.state.highScore?r.a.createElement("h2",null,"but you made the Honor Scroll for reaching apprentice rank ",t,"!"):r.a.createElement("h2",null,"but you reached apprentice rank ",t,"!"),r.a.createElement("section",{id:"game-over"},r.a.createElement("h1",null,"You Fizzled the Spell!"),e,this.navButtons())}}]),a}(r.a.Component);function b(e){var t=e.nextRound,a=e.rank;return r.a.createElement("div",null,r.a.createElement("h1",null,"Good Job, Apprentice"),r.a.createElement("h2",null,"You are now rank ",a),r.a.createElement("button",{onClick:t},"Next Spell"))}function v(e){var t=e.sprite;return r.a.createElement("div",{className:"summoning-circle"},t)}var E=["red","blue","yellow","green"],k=function(e){Object(g.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={currentSprite:null,loaded:!1,sequence:["red"],currentGuess:0,gameState:"start",score:0,disableInputs:!0},a.handleInput=a.handleInput.bind(Object(d.a)(a)),a.fetchSprites=a.fetchSprites.bind(Object(d.a)(a)),a.playSequence=a.playSequence.bind(Object(d.a)(a)),a.resetGame=a.resetGame.bind(Object(d.a)(a)),a.nextRound=a.nextRound.bind(Object(d.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.fetchSprites(),this.setState({loaded:!0})}},{key:"fetchSprites",value:function(){this.sprites={red:r.a.createElement("img",{src:a(35),alt:"red"}),yellow:r.a.createElement("img",{src:a(36),alt:"yellow"}),green:r.a.createElement("img",{src:a(37),alt:"green"}),blue:r.a.createElement("img",{src:a(38),alt:"blue"})}}},{key:"updateSequence",value:function(){var e=Array.from(this.state.sequence),t=E[Math.floor(4*Math.random())];e.push(t),this.setState({sequence:e})}},{key:"playSequence",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("simon-turn"===this.state.gameState){e.next=3;break}return e.next=3,this.setState({gameState:"simon-turn"});case 3:t=0;case 4:if(!(t<this.state.sequence.length)){e.next=14;break}return this.setState({currentSprite:this.sprites[this.state.sequence[t]]}),e.next=8,this.sleep(1300);case 8:return t===this.state.sequence.length-1?this.setState({currentSprite:null,disableInputs:!1,gameState:"player-turn"}):this.setState({currentSprite:null}),e.next=11,this.sleep(400);case 11:t++,e.next=4;break;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"nextGuess",value:function(){this.setState({currentSprite:null,currentGuess:this.state.currentGuess+1,disableInputs:!1})}},{key:"nextRound",value:function(){this.updateSequence(),this.setState({currentSprite:null,gameState:"",currentGuess:0,disableInputs:!0}),this.playSequence()}},{key:"resetGame",value:function(){this.setState({currentSprite:null,sequence:["red"],currentGuess:0,gameState:"start",score:0})}},{key:"gameOver",value:function(){this.setState({gameState:"gameOver",disableInputs:!0})}},{key:"handleInput",value:function(e){var t=this;return this.state.disableInputs?function(e){return e.preventDefault()}:function(){var a=Object(h.a)(o.a.mark((function a(n){var r,s,c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r=t.state,s=r.sequence,c=r.currentGuess,e!==s[c]){a.next=10;break}return i=t.sprites[e]||null,t.setState({currentSprite:i,disableInputs:!0}),a.next=7,t.sleep(1300);case 7:c===s.length-1?t.setState({gameState:"interRound",currentSprite:null,score:t.state.score+1,disableInputs:!0}):t.nextGuess(),a.next=11;break;case 10:t.gameOver();case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},{key:"selectMessage",value:function(){switch(this.state.gameState){case"simon-turn":return r.a.createElement("h1",null,"Watch closely...");case"player-turn":return r.a.createElement("h1",null,"Use the Orbs to Summon the Elementals in the Correct Order");case"start":return r.a.createElement("h1",null,"We will begin when you are ready");default:return null}}},{key:"render",value:function(){var e,t=this.state.gameState,n=this.state.score;if(!this.state.loaded)return null;switch(t){case"gameOver":return r.a.createElement(f,{rank:this.state.score,reset:this.resetGame});case"start":var s=r.a.createElement("button",{onClick:this.playSequence},"Begin Spell!");e=r.a.createElement(v,{sprite:s});break;case"interRound":return r.a.createElement(b,{rank:n,nextRound:this.nextRound});default:e=r.a.createElement(v,{sprite:this.state.currentSprite})}var c=this.state.disableInputs?"":"enable",i=this.selectMessage();return r.a.createElement("section",{id:"game"},i,r.a.createElement("div",{className:"main-window"},e),r.a.createElement("div",{className:"game-buttons"},r.a.createElement("img",{className:"orb red ".concat(c),src:a(39),onClick:this.handleInput("red")}),r.a.createElement("img",{className:"orb green ".concat(c),src:a(40),onClick:this.handleInput("green")}),r.a.createElement("img",{className:"orb yellow ".concat(c),src:a(41),onClick:this.handleInput("yellow")}),r.a.createElement("img",{className:"orb blue ".concat(c),src:a(42),onClick:this.handleInput("blue")})),r.a.createElement("div",null,r.a.createElement("span",{className:"rank-counter"},"Apprentice Rank: ",n)))}}]),n}(r.a.Component);function y(){var e=JSON.parse(localStorage.data).scores;return console.log(e),r.a.createElement("section",{id:"high-scores"},r.a.createElement("h1",null,"Honored Apprentices"),e.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h3",null,e.name),r.a.createElement("h3",null,e.rank))})),r.a.createElement(i.b,{to:"/game"},"Play Again!"))}var x=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/game"},r.a.createElement(k,null)),r.a.createElement(l.a,{path:"/high-scores"},r.a.createElement(y,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(i.b,{to:"/game"},"Play!")))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.cd524fbb.chunk.js.map