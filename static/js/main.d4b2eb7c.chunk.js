(this["webpackJsonpsimons-apprentice"]=this["webpackJsonpsimons-apprentice"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/pentagram.ae5d5114.png"},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/fizzle.8c4e8a93.gif"},function(e,t,a){e.exports=a.p+"static/media/redSprite.13af2104.gif"},function(e,t,a){e.exports=a.p+"static/media/yellowSprite.947f1120.gif"},function(e,t,a){e.exports=a.p+"static/media/greenSprite.99effb91.gif"},function(e,t,a){e.exports=a.p+"static/media/blueSprite.6618db31.gif"},function(e,t,a){e.exports=a.p+"static/media/greenOrb.0ecc18da.png"},function(e,t,a){e.exports=a.p+"static/media/blueOrb.fd1f041c.png"},function(e,t,a){e.exports=a.p+"static/media/redOrb.50e75402.png"},function(e,t,a){e.exports=a.p+"static/media/yellowOrb.ea689330.png"},,,,function(e,t,a){e.exports=a(49)},,,,,function(e,t,a){e.exports=a.p+"static/media/lab4.632b6fa7.jpg"},function(e,t,a){e.exports=a.p+"static/media/circle.b9ff05f9.jpg"},function(e,t,a){e.exports=a.p+"static/media/parchment.b190cd11.jpeg"},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),l=a.n(s),c=(a(22),a(20));function i(e,t){var a=0,n=e.length;e.forEach((function(e){var r=new Image;r.src=e,r.onload=function(){++a===n&&t()}}))}var u=a(3),o=a(1),m=["red","blue","yellow","green"],h=[a(40)],p=[a(23),a(24),a(25),a(26),a(27),a(41),a(17),a(28),a(29),a(30),a(31),a(42)],d=a(9),g=a.n(d),f=a(15),b=a(11),E=a(12),S=a(7),v=a(14),y=a(13),k=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={showHSInput:!1,name:"Apprentice",highScore:!1},n.updateHighScores=n.updateHighScores.bind(Object(S.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(S.a)(n)),n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.rank;this.highScoreList=JSON.parse(localStorage.data).scores,console.log(this.highScoreList);var t=this.highScoreList[this.highScoreList.length-1]||{rank:0};(this.highScoreList.length<15&&e>0||e>t.rank)&&this.setState({showHSInput:!0,highScore:!0})}},{key:"handleNameChange",value:function(e){e.preventDefault(),this.setState({name:e.target.value})}},{key:"navButtons",value:function(){return this.state.showHSInput?r.a.createElement("form",null,r.a.createElement("h3",null,"Enter your name, Apprentice"),r.a.createElement("input",{onChange:this.handleNameChange,value:this.state.name,type:"text"}),r.a.createElement("input",{className:"button",type:"submit",onClick:this.updateHighScores})):r.a.createElement("nav",null,r.a.createElement("div",{onClick:this.props.reset,className:"button"},"Try Again"),r.a.createElement(u.b,{to:"/high-scores"},"Honor Scroll"))}},{key:"updateHighScores",value:function(e){if(e.preventDefault(),0!==this.state.name.length){var t=this.state.name,a=this.props.rank;this.highScoreList.length>=15&&this.highScoreList.pop(),this.highScoreList.push({name:t,rank:a}),this.highScoreList.sort((function(e,t){return t.rank-e.rank})),localStorage.data=JSON.stringify({scores:this.highScoreList}),this.setState({showHSInput:!1})}}},{key:"render",value:function(){var e,t=this.props.rank;return e=this.state.highScore?r.a.createElement("h3",null,"...but you made the Honor Scroll for reaching Rank ",t,"!"):r.a.createElement("h3",null,"...but you reached Apprentice Rank ",t,"!"),r.a.createElement("section",{id:"game-over"},r.a.createElement("h1",null,"You Fizzled the Spell!"),e,this.navButtons())}}]),a}(r.a.Component);function w(e){var t=e.contents;return r.a.createElement("div",{className:"summoning-circle"},t)}var x=function(e){Object(v.a)(n,e);var t=Object(y.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).state={currentSprite:null,loaded:!0,sequence:["red"],currentGuess:0,gameState:"start",score:0,disableInputs:!0},s.sprites={red:r.a.createElement("img",{src:a(24),alt:"red"}),yellow:r.a.createElement("img",{src:a(25),alt:"yellow"}),green:r.a.createElement("img",{src:a(26),alt:"green"}),blue:r.a.createElement("img",{src:a(27),alt:"blue"}),fizzle:r.a.createElement("img",{className:"fizzle",src:a(23),alt:"fizzle!"})},s.handleInput=s.handleInput.bind(Object(S.a)(s)),s.playSequence=s.playSequence.bind(Object(S.a)(s)),s.resetGame=s.resetGame.bind(Object(S.a)(s)),s.nextRound=s.nextRound.bind(Object(S.a)(s)),s}return Object(E.a)(n,[{key:"updateSequence",value:function(){var e=Array.from(this.state.sequence),t=m[Math.floor(4*Math.random())];e.push(t),this.setState({sequence:e})}},{key:"playSequence",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"simon-turn"!==this.state.gameState&&this.setState({gameState:"simon-turn"}),e.next=3,this.sleep(500);case 3:t=0;case 4:if(!(t<this.state.sequence.length)){e.next=21;break}return this.setState({currentSprite:this.sprites[this.state.sequence[t]]}),e.next=8,this.sleep(700);case 8:if(t!==this.state.sequence.length-1){e.next=15;break}return this.setState({currentSprite:null}),e.next=12,this.sleep(400);case 12:this.setState({disableInputs:!1,gameState:"player-turn"}),e.next=16;break;case 15:this.setState({currentSprite:null});case 16:return e.next=18,this.sleep(400);case 18:t++,e.next=4;break;case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"nextGuess",value:function(){this.setState({currentSprite:null,currentGuess:this.state.currentGuess+1,disableInputs:!1})}},{key:"nextRound",value:function(){this.updateSequence(),this.setState({currentSprite:null,gameState:"",currentGuess:0,disableInputs:!0}),this.playSequence()}},{key:"resetGame",value:function(){this.setState({currentSprite:null,sequence:["red"],currentGuess:0,gameState:"start",score:0})}},{key:"gameOver",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({currentSprite:this.sprites.fizzle,disableInputs:!0}),e.next=3,this.sleep(1600);case 3:this.setState({gameState:"gameOver"});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInput",value:function(e){var t=this;return this.state.disableInputs?function(e){return e.preventDefault()}:function(){var a=Object(f.a)(g.a.mark((function a(n){var r,s,l,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r=t.state,s=r.sequence,l=r.currentGuess,e!==s[l]){a.next=17;break}return c=t.sprites[e]||null,t.setState({currentSprite:c,disableInputs:!0}),a.next=7,t.sleep(700);case 7:if(l!==s.length-1){a.next=14;break}return t.setState({currentSprite:null}),a.next=11,t.sleep(300);case 11:t.setState({gameState:"interRound",score:t.state.score+1,disableInputs:!0}),a.next=15;break;case 14:t.nextGuess();case 15:a.next=18;break;case 17:t.gameOver();case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},{key:"selectMessage",value:function(){switch(this.state.gameState){case"simon-turn":return r.a.createElement("h1",null,"Watch closely...");case"player-turn":return r.a.createElement("h1",null,"Use the Orbs to Summon the Elementals in the Correct Order");case"start":return r.a.createElement("div",null,r.a.createElement("h1",null,"We will begin when you are ready"),r.a.createElement("h3",null,"Touch the red pentagram to begin"));case"interRound":return r.a.createElement("div",null,r.a.createElement("h1",{className:"victory"},"Good Job, Apprentice!"),r.a.createElement("h2",null,"You have reached Rank ",this.state.score),r.a.createElement("h3",null,"Touch the red pentagram to continue"));default:return null}}},{key:"selectMainWindow",value:function(){switch(this.state.gameState){case"start":var e=r.a.createElement("img",{className:"start-button",src:a(17),onClick:this.playSequence,alt:"start"});return r.a.createElement(w,{contents:e});case"interRound":var t=r.a.createElement("img",{className:"start-button",src:a(17),onClick:this.nextRound,alt:"next round"});return r.a.createElement(w,{contents:t});default:return r.a.createElement(w,{contents:this.state.currentSprite})}}},{key:"render",value:function(){var e=this.state.score;if(!this.props.loaded)return r.a.createElement("section",null,r.a.createElement("h1",null,"Loading..."),r.a.createElement("div",{class:"lds-circle"},r.a.createElement("div",null)));if("gameOver"===this.state.gameState)return r.a.createElement(k,{rank:this.state.score,reset:this.resetGame});var t=this.selectMainWindow(),n=this.state.disableInputs?"":"enable",s=this.selectMessage();return r.a.createElement("section",{id:"game"},r.a.createElement("div",{className:"message-box"},s),r.a.createElement("div",{className:"main-window"},t),r.a.createElement("div",{className:"game-buttons"},r.a.createElement("img",{className:"orb red ".concat(n),draggable:"false",src:a(30),onClick:this.handleInput("red"),alt:"red"}),r.a.createElement("img",{className:"orb green ".concat(n),draggable:"false",src:a(28),onClick:this.handleInput("green"),alt:"green"}),r.a.createElement("img",{className:"orb yellow ".concat(n),draggable:"false",src:a(31),onClick:this.handleInput("yellow"),alt:"blue"}),r.a.createElement("img",{className:"orb blue ".concat(n),draggable:"false",src:a(29),onClick:this.handleInput("blue"),alt:"yellow"})),r.a.createElement("div",null,r.a.createElement("span",{className:"rank-counter"},"Apprentice Rank: ",e)))}}]),n}(r.a.Component);function O(){var e=JSON.parse(localStorage.data).scores;return console.log(e),r.a.createElement("section",{id:"high-scores"},r.a.createElement("h1",null,"Honored Apprentices"),r.a.createElement("div",{className:"score-table"},r.a.createElement("div",{className:"column"},r.a.createElement("h2",null,"Name"),e.map((function(e){return r.a.createElement("h3",null,e.name)}))),r.a.createElement("div",{className:"column"},r.a.createElement("h2",null,"Rank"),e.map((function(e){return r.a.createElement("h3",null,e.rank)})))),r.a.createElement(u.b,{to:"/game"},"Play Again!"),r.a.createElement(u.b,{to:"/"},"Main Menu"))}function N(){return r.a.createElement("section",{id:"main-menu"},r.a.createElement("h1",null,"Welcome, Apprentice"),r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/game"},"Play"),r.a.createElement(u.b,{to:"/instructions"},"Instructions"),r.a.createElement(u.b,{to:"/high-scores"},"High Scores")))}function j(){return r.a.createElement("header",{id:"header"},r.a.createElement("h1",null,"Simon's Apprentice"))}function I(){return r.a.createElement("section",{id:"instructions"},r.a.createElement("h1",null,"Instructions"),r.a.createElement("p",null,"You are an aspiring magician, and are fortunate enough to have recently been accepted as an apprentice by Simon, one of the greatest sorcerors alive today. In order to earn his favor, you must rise through the ranks of his other apprentices by successfully casting spells. But beware, one wrong step and your spell will fizzle, and Simon does not tolerate failure..."),r.a.createElement("ul",null,r.a.createElement("li",null,"Each round, Simon will demonstrate a spell by summoning elementals in a particular order. Pay attention!"),r.a.createElement("li",null,"Once Simon is done, you must use the four orbs of power on the bottom of the screen to summon the same elementals in the same order to complete the spell."),r.a.createElement("li",null,"Simply click on an orb to summon an elemental. The red orb summons red elementals, the blue one summons blue elementals, and so on."),r.a.createElement("li",null,"Beware, if you summon the wrong elemental the spell will fizzle, and you will be banished!"),r.a.createElement("li",null,"The sequence of elementals stays the same from round to round, but gets longer each time. Cast as many spells as possible to place your name on the Honor Scroll!")),r.a.createElement(u.b,{to:"/"},"Back to Main Menu"))}var C=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(!1),m=Object(c.a)(l,2),d=m[0],g=m[1];if(Object(n.useEffect)((function(){a||i(h,(function(){return s(!0)})),d||i(p,(function(){return g(!0)}))})),!a)return r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement("section",null,r.a.createElement("h1",null,"Loading..."),r.a.createElement("div",{class:"lds-circle"},r.a.createElement("div",null))));var f=r.a.createElement(j,null);return console.log(window.innerHeight),window.innerHeight<600&&(f=null),r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/game"},f),r.a.createElement(o.a,{path:"/"},r.a.createElement(j,null))),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/instructions"},r.a.createElement(I,null)),r.a.createElement(o.a,{path:"/game"},r.a.createElement(x,{loaded:d})),r.a.createElement(o.a,{path:"/high-scores"},r.a.createElement(O,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(N,null)))))};JSON.parse(localStorage.data)||(localStorage.data=JSON.stringify({scores:[{name:"Harry Dresden",rank:30}]})),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.d4b2eb7c.chunk.js.map